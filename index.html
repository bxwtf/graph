<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>

<canvas id="canvas1" style="border:solid 1px black; width:fill; float:left;" width="297" height="210">
</canvas>

<div style="border:solid 1px black; width:fill; float:right;">
<pre id="data1" contenteditable="true" style="border:solid 1px black;">
0.0 0.0

0.1 1.2

0.2 2.0

0.3 2.4

0.4 3.1

0.5 3.9

0.6 4.4

0.7 5.4

0.8 5.9

0.9 6.5
</pre>
<!--input type="text" id="data1"></input-->
</div>

<script>

canvas = document.getElementById("canvas1");
canvas.width = 297 * 3;
canvas.height = 210 * 3;
ctx = canvas1.getContext("2d");
data = document.getElementById("data1");

parse = () => data.innerText.replaceAll("\n", ",").split(",").map(x => x.trim()).filter(x => x != "")
	.map(x => x.split(" ").filter(x => x != "").map(x => parseFloat(x)).filter(x => !isNaN(x)));

drawline = (x, y, u, v) => {
	ctx.beginPath();
	ctx.moveTo(x, y);
	ctx.lineTo(u, v);
	ctx.stroke();
	ctx.closePath();
};

drawcross = (x, y) => {
	let s = 5;
	ctx.save();
	ctx.translate(x, y);
	//ctx.strokeStyle = "#00000000"
	ctx.lineWidth = 1.5;
	drawline(-s, -s, s, s);
	drawline(s, -s, -s, s);
	ctx.restore();
};

drawgrid = () => {
	let s = 10;
	let line = (x, y, w, h) => drawline(x, y, x + w, y + h);

	// top right
	let w = 80, h = 55;
	for (let i = 0; i < w + 1; i++) {
		ctx.lineWidth = i % 5 == 0 ? 1 : 0.4;
		line(i * s, 0, 0, h * s);
	}
	for (let i = 0; i < h + 1; i++) {
		ctx.lineWidth = i % 5 == 0 ? 1 : 0.4;
		line(0, i * s, w * s, 0);
	}

	if (false) for (let i = 0; i < 11; i++) {
		let len = 10 * 10;
		ctx.lineWidth = i % 5 == 0 ? 1 : 0.4;
		// top left
		line(0, i * s, -len, 0);
		line(-i * s, 0, 0, len);
		// bottom left
		line(0, -i * s, -len, 0);
		line(-i * s, 0, 0, -len);
		// bottom right
		line(0, -i * s, len, 0);
		line(i * s, 0, 0, -len);
	}
};

redraw = () => {
	ctx.fillStyle = "#ffffffff";
	ctx.fillRect(0, 0, canvas.width, canvas.height);
	ctx.save();
	ctx.translate(100 / 2, canvas.height - 100 / 2);
	ctx.scale(1, -1)
	drawgrid();
	parse().forEach(x => {
		drawcross(x[0] * 500, x[1] * 10)
		// TODO: stroke text at gur bottom / sides of gur thing
		ctx.save();
		ctx.scale(1, -1);
		ctx.fillStyle = "black";
		ctx.font = "16px sans-serif";
		ctx.fillText(x[0].toString(), x[0] * 500 - 10, 20);
		ctx.restore();
	});
	ctx.restore();
};

redraw();

// A4 = 210mm x 297mm
// script goes here :D

</script>
</body>
</html>
